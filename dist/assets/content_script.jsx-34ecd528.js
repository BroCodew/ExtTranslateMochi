import{c as w,j as c,R as T,r as o,F as v}from"./client-3c8a2c3a.js";/* empty css              */const y="/assets/Icon_Translate-1e62bf37.png";function b(){const[E,g]=o.useState("");o.useState(!0);const d=o.useRef(null),s=document.querySelector("body"),m=()=>{let e="";if(window.getSelection){const t=window.getSelection();e=(t==null?void 0:t.toString())||""}else if(document.getSelection){const t=document.getSelection();e=(t==null?void 0:t.toString())||""}return g(e),e},a=()=>{let e={};return window.getSelection?e=window.getSelection().getRangeAt(0):document.getSelection&&(e=document.getSelection().getRangeAt(0)),e},f=(e,t)=>{const n=document.createElement("div");n.id="translator-ext-rhp";const r=document.createElement("div");r.classList.add("translator-ext-icon"),r.innerHTML=`<img src="${chrome.runtime.getURL(y)}" alt="" width="25px" height="25px"/>`;const h=e.top+e.height+6+"px",x=e.left+(e.width/2-n.offsetWidth/2)+"px";n.style.position="absolute",n.style.padding="4px",n.style.top=h,n.style.left=x,d.current.appendChild(n),n.append(r),s.append(n),n&&n.addEventListener("click",async()=>{if(console.log("selectionText",t),t.length>0)try{const l=await(await fetch(`https://translate.googleapis.com/translate_a/single?client=dict-chrome-ex&sl=en&tl=vi&hl=en-US&dt=t&dt=bd&dj=1&source=bubble&q=${t}.`)).json(),S=l==null?void 0:l.sentences[0].trans;console.log("text",S)}catch(u){console.log(u)}})},p=()=>{const e=m();if(e&&e.length>0){a();const t=a().getBoundingClientRect();f(t,e),setTimeout(()=>{const n=document.querySelector("div#translator-ext-rhp");n&&n.remove()},1e4),console.log("selectionTextNode",t)}};return o.useEffect(()=>(s.addEventListener("mouseup",p),()=>{s.removeEventListener("mouseup",p)}),[]),c(v,{children:c("div",{className:"tooltipWrapper",ref:d})})}const i=document.createElement("div");i.id="content-script";document.body.appendChild(i);w.createRoot(i).render(c(T.StrictMode,{children:c(b,{})}));
